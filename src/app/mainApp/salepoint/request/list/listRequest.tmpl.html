 <div cg-busy="{promise:vm.loadingPromise, message:'Cargando solicitudes...'}">

    <md-card layout="column"
             layout-padding
             layout-align="center stretch">

        <div layout="column"
             layout-align="center center">
            <h1 translate>REQUEST.LIST.TITLE</h1>
        </div>

        <div layout="row"
             layout-align="space-around center"
             layout-wrap="">

            <div layout="column"
                 layout-align="center center"
                 layout-margin
                 ng-class="(vm.lastKindFilter == 'Abierta') ? 'SelectedList' : ''"
                 ng-click="vm.listFilteredRequests('Abierta')">
                <span translate>REQUEST.LIST.TYPE.OPEN</span>
                <div class="Abierta"></div>
            </div>
            <div layout="column"
                 layout-align="center center"
                 layout-margin
                 ng-class="(vm.lastKindFilter == 'En_proceso') ? 'SelectedList' : ''"
                 ng-click="vm.listFilteredRequests('En_proceso')">
                <span translate>REQUEST.LIST.TYPE.IN_PROCESS</span>
                <div class="En_proceso"></div>
            </div>
            <div layout="column"
                 layout-align="center center"
                 layout-margin
                 ng-class="(vm.lastKindFilter == 'Atendida') ? 'SelectedList' : ''"
                 ng-click="vm.listFilteredRequests('Atendida')">
                <span translate>REQUEST.LIST.TYPE.ATTENDED</span>
                <div class="Atendida"></div>
            </div>
            <div layout="column"
                 layout-align="center center"
                 layout-margin
                 ng-class="(vm.lastKindFilter == 'Cancelada') ? 'SelectedList' : ''"
                 ng-click="vm.listFilteredRequests('Cancelada')">
                <span translate>REQUEST.LIST.TYPE.CANCELED</span>
                <div class="Cancelada"></div>
            </div>
            <div layout="column"
                 layout-align="center center"
                 layout-margin
                 ng-class="(vm.lastKindFilter == 'Todo') ? 'SelectedList' : ''"
                 ng-click="vm.listFilteredRequests('Todo')">
                <span translate>REQUEST.LIST.TYPE.ALL</span>
                <div class="Todo"></div>
            </div>
        </div>
    </md-card>
    <md-card layout="column"
             layout-padding
             layout-align="center stretch"
             ng-if="vm.requests.length == 0">

        <div layout="row"
             layout-align="space-around center"
             layout-align-xs="center stretch"
             layout-xs="column">
            <span translate>REQUEST.NO_RESULTS</span>
        </div>
    </md-card>
</div>

<div cg-busy="{promise:vm.getReportPromise, message:'Generando reporte...'}"
     ng-if="vm.requests.length != 0 && !vm.filteredActivated">

    <md-card
        layout="column"
        ng-repeat="request in (vm.requests | orderBy:'-fecha')"
        layout-gt-xs="row"
        ng-click="vm.selectRequest(request)"
        layout-align="space-around center">
        <div layout="column" layout-align="center center">
            <h3 translate>REQUEST.DETAIL.FOLIO</h3>
            <span>{{request.id}}</span>
        </div>
        <div layout="column" layout-align="center center">
            <h3 translate>REQUEST.DETAIL.STATUS</h3>
            <div class="{{request.status}}">
            </div>
        </div>
        <div layout="column" layout-align="center center">
            <h3 translate>REQUEST.DETAIL.DATE</h3>
            <span>{{request.fecha_entrada | amDateFormat:'DD/MM/YYYY hh:mm:ss'}}</span>
        </div>
        <div layout="column" layout-align="center center">
            <md-button aria-label="fab button"
                       ng-click="vm.downloadReport(request.id, $event); $event.stopPropagation();"
                       class="md-raised md-primary">
                <md-icon md-font-icon="far fa-file-pdf"></md-icon>
            </md-button>
        </div>
    </md-card>

</div>
<div ng-if="vm.refreshPaginationButtonsComponent">
    <pagination-manager-buttons go-sig="vm.sig()"
                                go-prev="vm.prev()"
                                go-number="vm.goToNumberPage(number)"
                                limit-objects="vm.limit"
                                count-object="vm.allRequests.count"
                                offset-object="vm.offset"
                                nex-object="vm.allRequests.next"
                                prev-object="vm.allRequests.previous">
    </pagination-manager-buttons>
</div>
