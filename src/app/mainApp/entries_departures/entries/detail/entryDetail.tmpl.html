<md-card cg-busy="{promise:vm.loadingEntry, message:' '}">
    <md-toolbar layout-gt-xs="row"
                layout-align-gt-xs="space-between center"
                layout="column"
                layout-align="center center"
                layout-padding
                ng-class="(!vm.entry.confirmada )? 'not-confirmed-entry' : ''">

        <strong class="not_confirmed_entry" ng-if="!vm.entry.confirmada" translate>ENTRIES.LIST.LABELS.NOT_CONFIRMED_ENTRY</strong>
        <span>
            <strong translate="">ENTRIES.LIST.LABELS.ID</strong>
            {{vm.entry.id}}
        </span>
        <div ng-if="vm.entry.tipo_entrada==='Nuevos'" class="new-entries entries-filter"></div>
        <div ng-if="vm.entry.tipo_entrada==='Reparacion'" class="repair-entries entries-filter"></div>
        <div ng-if="vm.entry.tipo_entrada==='No_Capitalizados'" class="unrecognizable-entries entries-filter"></div>
        <div ng-if="vm.entry.tipo_entrada==='Almacen'" class="warehouse-entries entries-filter"></div>
        <div ng-if="vm.entry.tipo_entrada==='Garantias'" class="warranty-entries entries-filter"></div>
        <span>
            <strong translate="">ENTRIES.LIST.LABELS.KIND</strong>
            {{vm.entry.tipo_entrada}}
        </span>
    </md-toolbar>
    <section layout="column" layout-align="center center">
        <!--Open or closed entry-->
        <span ng-if="!vm.entry.cerrada">
            <md-icon md-font-icon="fa fa-lock-open"></md-icon>
            <span translate>ENTRIES.LIST.LABELS.OPEN</span>
        </span>
        <span ng-if="vm.entry.cerrada">
            <md-icon md-font-icon="fa fa-lock"></md-icon>
            <span translate>ENTRIES.LIST.LABELS.CLOSED</span>
        </span>

        <span ng-if="vm.entry.fecha">
            <strong translate>ENTRIES.LIST.LABELS.DATE</strong>
            <span>{{vm.entry.fecha | amDateFormat:'DD/MM/YYYY hh:mm:ss a'}}</span>
        </span>
        <span ng-if="vm.entry.pedimento" layout-margin>
            <strong translate>ENTRIES.LIST.LABELS.ORDER</strong>
            <span>{{vm.entry.pedimento}}</span>
        </span>
        <!--Transport section-->
        <section layout="row" layout-align="space-around center">
            <span flex="33" ng-if="vm.entry.nombre_chofer" layout-padding>
                <strong translate>ENTRIES.LIST.LABELS.DRIVER</strong>
                <span>{{vm.entry.nombre_chofer}}</span>
            </span>
            <span flex="33" ng-if="vm.entry.linea_transporte.razon_social" layout-padding>
                <strong translate>ENTRIES.LIST.LABELS.TRANSPORT_LINE</strong>
                <span>{{vm.entry.linea_transporte.razon_social}}</span>
            </span>
            <span flex="33" ng-if="vm.entry.tipo_transporte.descripcion" layout-padding>
                <strong translate>ENTRIES.LIST.LABELS.TRANSPORT_KIND</strong>
                <span>{{vm.entry.tipo_transporte.descripcion}}</span>
            </span>
        </section>
    </section>
    <section layout="row" layout-align="space-around center">
        <div>
            <!--Origin section-->
            <span ng-if="vm.entry.establecimiento_origen" layout-margin>
                <strong translate>ENTRIES.LIST.LABELS.ORIGIN_STORE</strong>
                <span>{{vm.entry.establecimiento_origen.nombre_establecimiento}}</span>
            </span>
            <span ng-if="vm.entry.proveedor_origen" layout-margin>
                <strong translate>ENTRIES.LIST.LABELS.ORIGIN_PROVIDER</strong>
                <span>{{vm.entry.proveedor_origen.razon_social}}</span>
            </span>
            <span ng-if="vm.entry.udn_origen" layout-margin>
                <strong translate>ENTRIES.LIST.LABELS.ORIGIN_AGENCY</strong>
                <span>{{vm.entry.udn_origen.agencia}}</span>
            </span>
        </div>
        <div>
            <!--Destination section-->
            <span ng-if="vm.entry.sucursal_destino" layout-margin>
                <strong translate>ENTRIES.LIST.LABELS.DESTINATION_SUBSIDIARY</strong>
                <span>{{vm.entry.sucursal_destino.nombre}}</span>
            </span>
            <span ng-if="vm.entry.udn_destino" layout-margin>
                <strong translate>ENTRIES.LIST.LABELS.DESTINATION_AGENCY</strong>
                <span>{{vm.entry.udn_destino.agencia}}</span>
            </span>
        </div>
    </section>
    <span ng-if="vm.entry.descripcion" layout-margin>
        <strong translate>ENTRIES.LIST.LABELS.DESCRIPTION</strong>
        <span>{{vm.entry.descripcion}}</span>
    </span>
    <md-actions layout="row" layout-align="end center">
        <!--Allow adding cabinets just if the entry is still open-->
        <md-button aria-label="Add asset button"
                   ng-click="$event.stopPropagation(); vm.addAssetClicked() "
                   ng-if="!vm.entry.cerrada"
                   class="md-raised">
            <md-icon md-font-icon="fa fa-plus"></md-icon>
            <span hide-xs>{{"ENTRIES.LIST.BUTTONS.ADD_ASSET"|translate}}</span>
        </md-button>
        <!--Allow closing just if the entry is still open-->
        <md-button aria-label="close vm.entry button"
                   ng-click="$event.stopPropagation(); vm.closeEntryClicked()"
                   ng-if="!vm.entry.cerrada"
                   class="md-primary md-raised">
            <md-icon md-font-icon="fa fa-lock"></md-icon>
            <span hide-xs>{{"ENTRIES.LIST.BUTTONS.CLOSE"|translate}}</span>
        </md-button>
        <!--Allow to generate the document just if the entry is closed-->
        <md-button aria-label="download document button"
                   ng-click="$event.stopPropagation(); vm.generatePDF()"
                   ng-if="vm.entry.cerrada"
                   disabled
                   class="md-primary md-raised">
            <md-icon md-font-icon="fa fa-file-pdf"></md-icon>
            <span hide-xs>{{"ENTRIES.LIST.BUTTONS.PDF"|translate}}</span>
        </md-button>
    </md-actions>
</md-card>
