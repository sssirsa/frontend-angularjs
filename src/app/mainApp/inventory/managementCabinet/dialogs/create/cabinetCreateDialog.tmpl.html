<div>
    <md-toolbar layout="row"
                layout-align="space-between center">
        <div layout-padding class="md-title">
            <span>{{'MAIN.COMPONENTS.CABINET.TITLE'|translate}}</span>
        </div>
        <md-button class="md-icon-button"
                   ng-click="vm.cancel()"
                   aria-label="cancel">
            <md-icon md-font-icon="zmdi zmdi-close"></md-icon>
        </md-button>
    </md-toolbar>
    <md-content layout="column"
                layout-padding
                layout-align="center stretch">
        <form name="newcabinetForm">
            <div flex layout="column" layout-gt-sm="row" layout-align-gt-sm="center stretch">
                <md-input-container flex class="md-block">
                    <label translate>MAIN.COMPONENTS.CABINET.ECONOMIC</label>
                    <input ng-disabled="vm.economico" name="economico" required digits-only MAXLENGTH="20" ng-model="vm.economico"/>
                    <div ng-messages="newcabinetForm.economico.$error">
                        <div ng-message="required">{{'MAIN.LABEL.REQUIRED'|translate}}</div>
                    </div>
                </md-input-container>

                <md-input-container flex class="md-block">
                    <label translate>MAIN.COMPONENTS.CABINET.SERIAL</label>
                    <input name="serial" maxlength="25"
                           ng-pattern="/^[a-zA-Z0-9]+$/" required ng-model="vm.no_serie"/>
                    <div ng-messages="newcabinetForm.serial.$error">
                        <div ng-message="pattern">
                            {{'MAIN.LABEL.ALFANUMERIC'|translate}}
                        </div>
                        <div ng-message="required">{{'MAIN.LABEL.REQUIRED'|translate}}</div>
                    </div>
                </md-input-container>
            </div>

            <div flex layout="column" layout-gt-sm="row" layout-align-gt-sm="center stretch">
                <md-input-container flex class="md-block">
                    <label translate>MAIN.COMPONENTS.CABINET.YEAR</label>
                    <input name="year" required digits-only MAXLENGTH="4" ng-model="vm.year"/>
                    <div ng-messages="newcabinetForm.year.$error">
                        <div ng-message="required">{{'MAIN.LABEL.REQUIRED'|translate}}</div>
                    </div>
                </md-input-container>

                <md-input-container flex class="md-block">
                    <label translate>MAIN.COMPONENTS.CABINET.ACTIVE_UNILEVER</label>
                    <input name="unilever" maxlength="25"
                           ng-pattern="/^[a-zA-Z0-9]+$/" required ng-model="vm.id_unilever"/>
                    <div ng-messages="newcabinetForm.unilever.$error">
                        <div ng-message="pattern">
                            {{'MAIN.LABEL.ALFANUMERIC'|translate}}
                        </div>
                        <div ng-message="required">{{'MAIN.LABEL.REQUIRED'|translate}}</div>
                    </div>
                </md-input-container>
            </div>

            <div flex layout="column" layout-gt-sm="row" layout-align-gt-sm="center stretch">
                <md-input-container flex class="md-block">
                    <catalog-select catalog="vm.catalogues['marca'].catalog"
                                    required="vm.catalogues['marca'].required"
                                    on-select="vm.onBrandSelect(element)">
                    </catalog-select>
                </md-input-container>

                <md-input-container flex class="md-block">
                    <catalog-select ng-if="vm.marca"
                                    catalog="vm.catalogues['modelo_by_marca'].catalog"
                                    required="vm.catalogues['modelo_by_marca'].required"
                                    lazy="true"
                                    on-select="vm.onElementSelect(element,'modelo_id')">
                    </catalog-select>
                </md-input-container>
            </div>
        </form>

        <form name="newcabinetForm2">
            <div flex layout="column" layout-gt-sm="row" layout-align-gt-sm="center stretch">
                <md-input-container flex class="md-block">
                    <catalog-select catalog="vm.catalogues['condicion'].catalog"
                                    required="vm.catalogues['condicion'].required"
                                    on-select="vm.onElementSelect(element,'condicion_id')">
                    </catalog-select>
                </md-input-container>

                <md-input-container flex class="md-block">
                    <catalog-select catalog="vm.catalogues['status_unilever'].catalog"
                                    required="vm.catalogues['status_unilever'].required"
                                    on-select="vm.onElementSelect(element,'estatus_unilever_id')">
                    </catalog-select>
                </md-input-container>
            </div>

            <div layout="column" layout-gt-sm="row" layout-align-gt-sm="center stretch">
                <md-input-container flex class="md-block">
                    <catalog-select catalog="vm.catalogues['status_com'].catalog"
                                    required="vm.catalogues['status_com'].required"
                                    on-select="vm.onElementSelect(element,'estatus_com_id')">
                    </catalog-select>
                </md-input-container>

                <md-input-container flex class="md-block">
                    <catalog-select catalog="vm.catalogues['categoria'].catalog"
                                    required="vm.catalogues['categoria'].required"
                                    on-select="vm.onElementSelect(element,'categoria_id')">
                    </catalog-select>
                </md-input-container>
            </div>
        </form>

    </md-content>
    <md-actions layout="row"
                layout-align="space-between center">
        <md-button ng-click="vm.cancel()"
                   aria-label="{{'MAIN.BUTTONS.CANCEL'|translate}}"
                   class="md-warn md-raised">
            <div layout="row" layout-align="center center">
                <md-icon md-font-icon="fa fa-close"></md-icon>
                {{'MAIN.BUTTONS.CANCEL'|translate}}
            </div>
        </md-button>
        <md-button ng-click="vm.create()"
                   cg-busy="{ promise:vm.createPromise, message:' ' }"
                   ng-disabled="newcabinetForm.$invalid"
                   aria-label="{{'MAIN.COMPONENTS.CABINET.CREATE'|translate}}"
                   class="md-primary md-raised">
            <div layout="row" layout-align="center center">
                <md-icon md-font-icon="fa fa-plus"></md-icon>
                {{'MAIN.COMPONENTS.CABINET.CREATE'|translate}}
            </div>
        </md-button>
    </md-actions>
</div>
